from flask import Flask, request, render_template_string
import os

app = Flask(__name__)

texts = [
    "ChatGPT ÛŒÚ© Ù…Ø¯Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø§Ø³Øª.",
    "Ù¾Ø§ÛŒØªÙˆÙ† ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø³Ø§Ø¯Ù‡ Ùˆ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø§Ø³Øª.",
    "Ú¯ÙˆÚ¯Ù„ ÛŒÚ©ÛŒ Ø§Ø² Ù…Ø¹Ø±ÙˆÙâ€ŒØªØ±ÛŒÙ† Ù…ÙˆØªÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ø§Ø³Øª.",
    "Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¯Ø± Ø­Ø§Ù„ ØªØºÛŒÛŒØ± Ø¬Ù‡Ø§Ù† Ø§Ø³Øª.",
    "Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ù…Ù‡Ø§Ø±ØªÛŒ Ø­ÛŒØ§ØªÛŒ Ø¯Ø± Ù‚Ø±Ù† Û²Û± Ø§Ø³Øª."
]

html_template = """ 
<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ù…ÙˆØªÙˆØ± Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ù†</title>
<style>
body { font-family: sans-serif; text-align: center; margin-top: 100px; background: #fafafa; }
input[type=text] { width: 60%; padding: 10px; border-radius: 10px; border: 1px solid #ccc; }
button { padding: 10px 20px; border-radius: 10px; background: #4285f4; color: white; border: none; cursor: pointer; }
div.result { margin-top: 30px; width: 60%; margin-left: auto; margin-right: auto; text-align: left; }
</style>
</head>
<body>
<h1>ğŸ” Ù…ÙˆØªÙˆØ± Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ù†</h1>
<form method="GET">
<input type="text" name="q" placeholder="Ø¯Ù†Ø¨Ø§Ù„ Ú†ÛŒ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÛŒØŸ" value="{{query}}">
<button type="submit">Ø¬Ø³ØªØ¬Ùˆ</button>
</form>
<div class="result">
{% for r in results %}
<p>ğŸ”¹ {{r}}</p>
{% endfor %}
{% if not results and query %}
<p>âŒ Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯.</p>
{% endif %}
</div>
</body>
</html>
"""

@app.route("/", methods=["GET"])
def home():
    query = request.args.get("q", "")
    results = [t for t in texts if query.lower() in t.lower()] if query else []
    return render_template_string(html_template, results=results, query=query)

if __name__ == "__main__":
    port = int(os.environ.get("PORT", 5000))
    app.run(host="0.0.0.0", port=port)